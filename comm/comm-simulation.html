<html>
<head>
<style>
#commSimCanvas {
position:fixed;
left:200px;
}
</style>

</head>

<body>

	<script src="util.js"></script>
	<script src="particle.js"></script>
	<script src="commnode.js"></script>
	<script src="comm-simulator.js"></script>
	<canvas id="commSimCanvas" width="1000" height="700"></canvas>


	<script>
	var c = document.getElementById("commSimCanvas");
	var ctx = c.getContext("2d");
	
	ctx.width=1000;
	ctx.height=700;
// 	var simulator = new Simulator(medium,ctx);

// 	setInterval(function(){
// 	    simulator.run();
// 	},20);

	medium.init(c);
	medium.start(20);
	
// 	c.addEventListener('mousedown',function(e){
// 	    var relMousePos = medium.getRelMousePos(e.clientX, e.clientY);
// 	    var relX = relMousePos.mouseX;
// 	    var relY = relMousePos.mouseY;
	    
// 	    var hitObj = medium.getHitObject(relX,relY);
	    
// 	    if(hitObj){
// 	    	console.log("hit("+relX+","+relY+")->"+hitObj.id);
// 	    	var onMouseMove = function(e){
// 	    	    console.log("move: "+e);
// 	    	    var newMousePos = medium.getRelMousePos(e.clientX, e.clientY);
// 	    	    hitObj.setPosition(newMousePos.mouseX,newMousePos.mouseY);
// 	    	};
	    	
// 	    	var onMouseUp=function(e){
// 	    	    c.removeEventListener('mousemove',onMouseMove);
// 	    	    c.removeEventListener('mouseup',onMouseUp);
// 	    	    console.log("up");
// 	    	}
	    	
// 	    	c.addEventListener('mousemove',onMouseMove);
// 	    	c.addEventListener('mouseup',onMouseUp);
	    	
// 	    }
	    
// 	});

// 	c.onmousedown=function(e){
// 	    console.log("hit("+e.x+","+e.y+")->"+medium.getHitObject(e.x,e.y));
// 	}
	
	</script>
</body>

</html>